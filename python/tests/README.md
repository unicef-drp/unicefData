# Python Test Suite

This directory contains the test suite for the Python implementation of the `unicef_api` library.

## Test Scripts

### 1. `run_tests.py`
**Description**: The main comprehensive test suite. It validates all major functionality including:
- Listing dataflows
- Fetching data for specific domains (Mortality, Stunting, Immunization)
- Handling multiple indicators
- Metadata synchronization

**Usage**:
```bash
python python/tests/run_tests.py
```

**Expected Output**:
- Console logs indicating progress.
- CSV files generated in `output/`:
  - `test_dataflows.csv`
  - `test_mortality.csv`
  - `test_stunting.csv`
  - `test_immunization.csv`
  - `test_multiple_indicators.csv`
- Metadata cache generated in `output/metadata_sync_test/`.

---

### 2. `test_unicef_api.py`
**Description**: Unit tests for the `UNICEFSDMXClient` class and utility functions. Uses `pytest`.

**Usage**:
```bash
pytest python/tests/test_unicef_api.py
```

---

### 3. `test_dimensions.py`
**Description**: A standalone script to test extracting dimensions from SDMX dataflow XML responses. Useful for debugging SDMX parsing logic.

**Usage**:
```bash
python python/tests/test_dimensions.py
```

## Output Directory (`output/`)

All test artifacts are saved in the `output/` directory to avoid cluttering the repository. This directory is ignored by git.

- **`metadata_sync_test/`**: Contains the cache generated by metadata sync tests.
- **`*.csv`**: Various output files from `run_tests.py`.
